<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="theme-color" content="#0C1C2E" />
  <title>Jetset Hacks — Flight Deals</title>

  <!-- favicon / font / css / app -->
  <link rel="icon" href="/assets/logo-medallion.svg" type="image/svg+xml" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="/styles.css" />
  <script defer src="/app.js"></script>
</head>
  <p id="lastUpdated" style="text-align:center; font-size:0.8rem; color:#666;"></p>
<body>
<header class="site-header">
  <div class="container header-inner">
    <img src="/assets/logo-medallion.svg" class="logo" alt="Jetset Hacks" width="44" height="44" />
    <div class="brand">
      <h1>Jetset Hacks</h1>
      <p class="sub">Flight Deals • Points Value • Smart Routes</p>
    </div>

    <div class="hdr-controls">
      <label>Lang
        <select id="lang">
          <option value="en">EN</option>
          <option value="ja">日本語</option>
          <option value="vi">Tiếng Việt</option>
        </select>
      </label>
      <label>Curr
        <select id="curr">
          <option value="AUD" selected>AUD</option>
          <option value="USD">USD</option>
          <option value="JPY">JPY</option>
          <option value="EUR">EUR</option>
        </select>
      </label>
    </div>

    <div id="providerHealth" class="provider-health" aria-live="polite">Checking providers…</div>
  </div>
  <p class="disclaimer-top">
    Flights/prices can change at any time. This site is a research guide — not a booking service.
  </p>
</header>

<main class="container">
  <!-- Popular boards on top -->
  <section id="boards" class="boards">
    <div class="boards-header">
      <h2>Popular right now</h2>
      <div class="board-tabs">
        <button class="board-tab active" data-board="routes">Routes</button>
        <button class="board-tab" data-board="destinations">Destinations</button>
        <button class="board-tab" data-board="compare">Compare</button>
      </div>
    </div>
    <div class="board-grid">
      <div class="board" id="board-routes"><h3>Popular routes</h3><div class="board-body"></div></div>
      <div class="board" id="board-destinations" hidden><h3>Popular destinations</h3><div class="board-body"></div></div>
      <div class="board" id="board-compare">
  <h3>Comparison</h3>
  <div class="board-body">
    <div id="comparison-container"></div>
  </div>
</div>
    </div>
    <!-- quick-select destination chips -->
    <div id="popularChipsWrap" class="popular-chips" aria-label="Popular destination shortcuts"></div>
  </section>

  <!-- Search -->
  <section class="search">
    <h2>Find flights</h2>
    <form id="searchForm" class="search-form sticky-mobile" aria-label="Flight search form">
      <label>From <input id="from" placeholder="SYD" maxlength="3" required list="airportsList" /></label>
      <label>To <input id="to" placeholder="LAX" maxlength="3" required list="airportsList" /></label>
      <label>Date <input id="date" type="date" /></label>
      <button type="submit" class="btn">Search</button>
      <datalist id="airportsList"></datalist>
    </form>

    <div class="chips">
      <button type="button" class="chip" data-day="tue">Tue</button>
      <button type="button" class="chip" data-day="wed">Wed</button>
      <button type="button" class="chip" data-day="sat">Sat</button>
      <label class="flex-toggle"><input type="checkbox" id="flexDays" /> <span>±3 days</span></label>
      <label class="trip-type">Trip
        <select id="tripType">
          <option value="oneway">One‑way</option>
          <option value="return">Return</option>
          <option value="multicity">Multi‑city</option>
        </select>
      </label>
      <label>Cabin
        <select id="cabin">
          <option>Economy</option><option>Premium Economy</option><option>Business</option><option>First</option>
        </select>
      </label>
    </div>

    <!-- Multi‑city inputs (client‑side demo combine) -->
    <div id="multicityWrap" class="multicity" hidden>
      <div class="mc-leg">
        <label>Leg 1 From <input id="mcFrom1" maxlength="3" placeholder="SYD" /></label>
        <label>To <input id="mcTo1" maxlength="3" placeholder="NRT" /></label>
        <label>Date <input id="mcDate1" type="date" /></label>
      </div>
      <div class="mc-leg">
        <label>Leg 2 From <input id="mcFrom2" maxlength="3" placeholder="NRT" /></label>
        <label>To <input id="mcTo2" maxlength="3" placeholder="LAX" /></label>
        <label>Date <input id="mcDate2" type="date" /></label>
      </div>
      <p class="minor">Note: multi‑city here is a client‑side combo for demo. Live pricing needs a connected provider.</p>
    </div>
  </section>

  <!-- Results -->
  <section class="results">
    <div class="results-header">
      <h2>Results</h2>
      <div class="actions"><button type="button" id="exportCsv" class="btn btn-secondary">Export CSV</button></div>
      <div id="status" class="status" role="status" aria-live="polite">Waiting for search…</div>
    </div>

    <div class="table-wrap">
      <table id="resultsTable">
        <thead>
          <tr>
            <th>Depart</th><th>From</th><th>To</th><th>Airline</th><th>Cabin</th>
            <th>Cash (AUD)</th><th>Points</th><th>Value (¢/pt)</th><th>Link</th><th>Share</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
  </section>
</main>

<footer class="site-footer"><div class="container"><p>© 2025 Jetsethacksofficial</p></div></footer>

<!-- Details drawer -->
<dialog id="detailDlg" class="detail-dlg" aria-label="Flight details">
  <h3 id="dlgTitle">Flight details</h3>
  <div id="dlgBody"></div>
  <div class="actions"><button id="dlgClose" class="btn btn-secondary" type="button">Close</button></div>
</dialog>

<!-- Service worker registration -->
<script>
  if ('serviceWorker' in navigator && !location.search.includes('nosw=1')) {
    addEventListener('load', ()=>navigator.serviceWorker.register('/sw.js').catch(()=>{}));
  } else if ('serviceWorker' in navigator) {
    navigator.serviceWorker.getRegistrations().then(list=>list.forEach(r=>r.unregister()));
  }
</script>

<!-- subtle watermark -->
<style>
  body::before{
    content:"";position:fixed;inset:0;background-image:url('/assets/logo-medallion.svg');
    background-repeat:no-repeat;background-position:96% 8%;background-size:180px 180px;opacity:.05;pointer-events:none;z-index:0
  }
  header,main,footer{position:relative;z-index:1}
</style>
</body>
</html>
